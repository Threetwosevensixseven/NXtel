@model NXtelData.Users
@{
    ViewBag.Title = "Manage Users";
}
<h2>@ViewBag.Title</h2>
<h3>@ViewBag.Message</h3>
    <table class="paged" style="width:auto">
        <thead>
            <tr>
                <th>Mailbox</th>
                <th>Email</th>
                <th class="text-center">Confirmed</th>
                <th class="text-center">Editor</th>
                <th class="text-center">Admin</th>
            </tr>
        </thead>
        <tbody>
            @foreach (NXtelData.User user in Model)
            {
                <tr>
                    <td>@Html.ActionLink(@user.Mailbox, "Edit", "User", new { id = user.ID }, null)</td>
                    <td>@Html.ActionLink(@user.Email, "Edit", "User", new { id = user.ID }, null)</td>
                    <td class="text-center">@Html.CheckBoxFor(u => @user.EmailConfirmed, new { onclick = "return false" })</td>
                    <td class="text-center">@Html.CheckBoxFor(u => @user.IsPageEditor, new { onclick = "return false" })</td>
                    <td class="text-center">@Html.CheckBoxFor(u => @user.IsAdmin, new { onclick = "return false" })</td>
                </tr>
            }
        </tbody>
    </table>

@section scripts {
    <script type="text/javascript">
        $(function () {
            $.fn.dataTable.ext.order['dom-checkbox'] = function  ( settings, col )
            {
                return this.api().column( col, {order:'index'} ).nodes().map( function ( td, i ) {
                    return $('input', td).prop('checked') ? '1' : '0';
                } );
            }

            $("table.paged").DataTable({
                columnDefs: [
                  {
                      targets: [2, 3, 4],
                      orderDataType: 'dom-checkbox'
                  }
                ]
            });
        });
    </script>
}